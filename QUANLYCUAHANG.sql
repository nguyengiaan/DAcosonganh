CREATE DATABASE QUANLYCUAHANG
GO
USE QUANLYCUAHANG
GO
CREATE TABLE KHACHHANG
(
	MAKH INT PRIMARY KEY ,
	TENKH NVARCHAR(30),
	DIACHI NVARCHAR(50),
	SDT NVARCHAR(10),
	EMAIL NVARCHAR(30)
)
CREATE TABLE LOAISANPHAM
(
	MALOAISP INT PRIMARY KEY,
	TENLOAISANPHAM NVARCHAR(30),
)
CREATE TABLE NHANVIEN
(
	MANV INT PRIMARY KEY,
	TENNV NVARCHAR(30),
	DIACHI NVARCHAR(50),
	SDT NVARCHAR(10),
	CHUCVU NVARCHAR(20),
	GIOITINH NVARCHAR(3),
	NGAYSINH DATETIME,
	TINHTRANGHONNHAN NVARCHAR(10),
	DANTOC NVARCHAR(10),
)
CREATE TABLE SANPHAM
(
	MASP INT PRIMARY KEY,
	TENSP NVARCHAR(20),
	DVT NVARCHAR(10),
	DG NVARCHAR(20),
	MALOAISP INT ,
	HINHANH IMAGE,
	SOLUONG INT,
	CONSTRAINT FK_SANPHAM FOREIGN KEY(MALOAISP) REFERENCES LOAISANPHAM(MALOAISP)
)
CREATE TABLE HOADON
(
	MAHD INT PRIMARY KEY,
	MAKH INT,
	MANV INT ,
	NGAYBAN NVARCHAR(10),
	TONGTIEN INT,
	CONSTRAINT FK_HOADON FOREIGN KEY(MAKH) REFERENCES KHACHHANG(MAKH),
	CONSTRAINT FK_HOADON1 FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV),

)

CREATE TABLE DANGNHAP
(
	ID INT PRIMARY KEY,
	TENTK NVARCHAR(30),
	MATKHAU NVARCHAR(30),
	QUYEN NVARCHAR(20),

)
CREATE TABLE CHITIETHOADON
(
	MAHD INT PRIMARY KEY,
	MSP INT,
	SOLUONG INT,
	DONGIA FLOAT,
	GIAMGIA FLOAT,
	THANHTIEN FLOAT
	CONSTRAINT FK_CHITIET FOREIGN KEY(MAHD) REFERENCES HOADON(MAHD),
	CONSTRAINT FK_CHITIET1 FOREIGN KEY(MSP) REFERENCES SANPHAM(MASP),
)
/*du lieu khach hang*/
INSERT INTO KHACHHANG VALUES (1,'Nguyen Van a','Thu duc','0346569555','a@gmail.com');
INSERT INTO KHACHHANG VALUES (2,'Nguyen Van b','Thu duc','0346569556','b@gmail.com');
INSERT INTO KHACHHANG VALUES (3,'Nguyen Van c','Thu duc','0346569777','c@gmail.com');
INSERT INTO KHACHHANG VALUES (4,'Nguyen Van d','Thu duc','0346569888','d@gmail.com');
/* loai san pham*/
INSERT INTO LOAISANPHAM VALUES (1,'y tế');
INSERT INTO LOAISANPHAM VALUES (2,'học tập');
INSERT INTO LOAISANPHAM VALUES (3,'dụng cụ nhà bếp');
INSERT INTO LOAISANPHAM VALUES (4,'công cụ lao động');
INSERT INTO LOAISANPHAM VALUES (5,'công nghệ');
/* nhan vien */
INSERT INTO NHANVIEN VALUES (1,'Nguyễn Gia Ân','Thu duc','0345678910','Quản lý','Nam','3/8/2002','Độc thân','kinh');
INSERT INTO NHANVIEN VALUES (2,'Hoàng đức bình','Thu duc','0345678911','Quản lý','Nam','3/9/2002','Độc thân','kinh');
INSERT INTO NHANVIEN VALUES (3,'Thái văn hiệp','Thu duc','0345678912','Quản lý','Nam','3/10/2002','Độc thân','kinh');
INSERT INTO NHANVIEN VALUES (4,'Lê văn a','Thu duc','0345678913','nhân viên','Nam','3/11/2002','Độc thân','kinh');
/*Hoa don*/
INSERT INTO HOADON VALUES (1,1,1,'3/6/2022/',30000)
INSERT INTO HOADON VALUES (2,1,1,'3/7/2022/',40000)
INSERT INTO HOADON VALUES (3,1,1,'3/8/2022/',50000)
INSERT INTO HOADON VALUES (4,1,1,'3/9/2022/',60000)
/*Chi tiet hoa don */
INSERT INTO CHITIETHOADON VALUES (1,1,1,20000,0,20000)
INSERT INTO CHITIETHOADON VALUES (2,2,2,20000,0,20000)
INSERT INTO CHITIETHOADON VALUES (3,2,3,20000,0,20000)
INSERT INTO CHITIETHOADON VALUES (4,2,5,20000,0,20000)
/*san pham*/
INSERT INTO SANPHAM VALUES (1,'Băng cá nhân','nghìn','1000',1,null,10)
INSERT INTO SANPHAM VALUES (2,'thước','nghìn','1000',2,null,10)
INSERT INTO SANPHAM VALUES (3,'viết','nghìn','1000',2,null,10)
INSERT INTO SANPHAM VALUES (4,'tẩy','nghìn','1000',2,null,10)
/*đăng nhập*/
INSERT INTO DANGNHAP VALUES(1,'AN','1234','ADMIN')
INSERT INTO DANGNHAP VALUES(2,'BINH','1234','ADMIN')
INSERT INTO DANGNHAP VALUES(3,'HIEP','1234','ADMIN')
INSERT INTO DANGNHAP VALUES(4,'NHANVIEN1','1234','NHANVIEN')